# 🚀 AI Code Review 快速檢查清單

> **1 頁速查版** - 列印貼在你的螢幕旁

---

## ⏱️ 60 秒快速檢查

### 🔴 立即拒絕（不需往下看）

- [ ] ❌ 有 Hardcoded Secret (API Key, Password)
- [ ] ❌ CI/CD 任何一項失敗
- [ ] ❌ 測試覆蓋率 <80%
- [ ] ❌ 依賴有高危漏洞 (CVE >7.0)

---

## 📋 標準審查流程（5-10 分鐘）

### 1️⃣ 自動化檢查（2 分鐘）

```bash
✅ npm test         # 測試通過？
✅ npm run lint     # Lint 無錯誤？
✅ npm run build    # 建置成功？
✅ npm audit        # 無高危漏洞？
```

### 2️⃣ 邏輯檢查（3 分鐘）

- [ ] 有處理 `null`/`undefined`？
- [ ] 有處理空陣列/空字串？
- [ ] 有 `try...catch` 的有寫錯誤處理？
- [ ] 迴圈有終止條件？

### 3️⃣ 安全檢查（2 分鐘）

- [ ] 輸入有驗證？
- [ ] SQL 有用參數化（非字串拼接）？
- [ ] 敏感資料不會落 log？

### 4️⃣ 架構檢查（3 分鐘）

- [ ] 命名清晰（無 `temp`, `data`）？
- [ ] 沒有重複造輪子？
- [ ] 符合專案既有 pattern？

---

## 🎯 AI 特有陷阱（必檢）

| 陷阱         | 檢查方法       | 紅旗關鍵字           |
| ------------ | -------------- | -------------------- |
| **幻覺 API** | 執行測試       | `Module not found`   |
| **邊界忽略** | 搜尋 `if`      | 沒有 `null` check    |
| **例外吞噬** | 搜尋 `catch`   | 空的 `catch` block   |
| **過度抽象** | 看函數呼叫深度 | 3 層以上 indirection |
| **安全漏洞** | 搜尋 SQL 拼接  | `"SELECT * FROM " +` |

---

## 💬 必問三問

1. **「這是真問題還是過度設計？」**
   - 有實際需求或 Bug Report？

2. **「有更簡單的方法嗎？」**
   - 能用現有函數？

3. **「會破壞什麼？」**
   - 向後相容？可回滾？

---

## 🔍 一句話檢查法

**「如果我半夜被叫起來 Debug 這段程式碼，我看得懂嗎？」**

- ❌ 看不懂 → 要求重寫或加註解
- ✅ 看得懂 → 通過

---

## 📝 PR 描述必填

AI 必須回答：

1. **做了什麼**（一句話）
2. **為何這樣做比其他方法好**（兩段話）
3. **測試證據**（截圖/覆蓋率）
4. **回滾計畫**（如果出問題怎麼辦）

---

## 🚨 高風險變更（P0/P1）

**額外要求**:

- [ ] 有 ADR (Architecture Decision Record)
- [ ] 有 Feature Flag
- [ ] 有監控告警
- [ ] 有 Rollback Script

---

## 🛠️ 常用指令速查

```bash
# 安全掃描
npm audit --audit-level=high
git secrets --scan

# 死碼檢測
npx unimported
npx depcheck

# 測試覆蓋
npm test -- --coverage

# Lint 修復
npm run lint -- --fix
```

---

## ✅ 通過標準

**最低門檻**:

- ✅ 所有 CI/CD 綠燈
- ✅ 覆蓋率 >80%
- ✅ 無安全紅旗
- ✅ 命名清晰
- ✅ 可快速回滾

**理想狀態**:

- 🌟 覆蓋率 >90%
- 🌟 有 ADR
- 🌟 有完整測試案例（正面+負面）
- 🌟 文檔已更新

---

**記住**: Zero Trust = 驗證後再信任，不是不信任 AI！
