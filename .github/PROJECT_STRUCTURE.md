# å°ˆæ¡ˆæ¶æ§‹èªªæ˜

## ğŸ“ ç›®éŒ„çµæ§‹

```
app/
â”œâ”€â”€ .github/                          # GitHub é…ç½®
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/              # Issue ç¯„æœ¬
â”‚   â”‚   â”œâ”€â”€ bug_report.md            # Bug å›å ±
â”‚   â”‚   â”œâ”€â”€ feature_request.md       # åŠŸèƒ½è«‹æ±‚
â”‚   â”‚   â””â”€â”€ documentation.md         # æ–‡æª”æ”¹å–„
â”‚   â”œâ”€â”€ workflows/                   # GitHub Actions
â”‚   â”‚   â”œâ”€â”€ ci.yml                   # æŒçºŒæ•´åˆ
â”‚   â”‚   â”œâ”€â”€ pr-check.yml             # PR è‡ªå‹•æª¢æŸ¥
â”‚   â”‚   â””â”€â”€ update-exchange-rates-historical.yml  # åŒ¯ç‡æ›´æ–°
â”‚   â”œâ”€â”€ pull_request_template.md     # PR ç¯„æœ¬
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md         # æœ¬æª”æ¡ˆ
â”‚
â”œâ”€â”€ apps/                            # Monorepo æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ ratewise/                    # RateWise ä¸»æ‡‰ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/          # å…±ç”¨å…ƒä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ErrorBoundary.test.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ features/            # åŠŸèƒ½æ¨¡çµ„
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ratewise/        # åŒ¯ç‡è½‰æ›åŠŸèƒ½
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ components/  # UI å…ƒä»¶
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ SingleConverter.tsx
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ MultiConverter.tsx
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ CurrencyList.tsx
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ FavoritesList.tsx
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ConversionHistory.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ hooks/       # Custom Hooks
â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ useCurrencyConverter.ts
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ useExchangeRates.ts
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ RateWise.tsx # ä¸»å…ƒä»¶
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ RateWise.test.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ constants.ts # å¸¸æ•¸å®šç¾©
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ types.ts     # é¡å‹å®šç¾©
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ storage.ts   # æœ¬åœ°å„²å­˜
â”‚   â”‚   â”‚   â”œâ”€â”€ services/            # API æœå‹™
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ exchangeRateService.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ exchangeRateHistoryService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½å¼
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logger.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ logger.test.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ App.tsx              # æ‡‰ç”¨æ ¹å…ƒä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ main.tsx             # æ‡‰ç”¨å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ index.css            # å…¨åŸŸæ¨£å¼
â”‚   â”‚   â”‚   â””â”€â”€ setupTests.ts        # æ¸¬è©¦è¨­å®š
â”‚   â”‚   â”œâ”€â”€ public/                  # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ package.json             # å°ˆæ¡ˆé…ç½®
â”‚   â”‚   â”œâ”€â”€ vite.config.ts           # Vite é…ç½®
â”‚   â”‚   â”œâ”€â”€ vitest.config.ts         # Vitest é…ç½®
â”‚   â”‚   â”œâ”€â”€ tailwind.config.ts       # Tailwind é…ç½®
â”‚   â”‚   â””â”€â”€ tsconfig.json            # TypeScript é…ç½®
â”‚   â””â”€â”€ shared/                      # å…±ç”¨ç¨‹å¼ç¢¼ï¼ˆé ç•™ï¼‰
â”‚
â”œâ”€â”€ docs/                            # æ–‡æª”ç›®éŒ„
â”‚   â”œâ”€â”€ dev/                         # é–‹ç™¼è€…æ–‡æª”
â”‚   â”‚   â”œâ”€â”€ ARCHITECTURE_BASELINE.md # æ¶æ§‹è¨­è¨ˆ
â”‚   â”‚   â”œâ”€â”€ CITATIONS.md             # æŠ€è¡“å¼•ç”¨
â”‚   â”‚   â”œâ”€â”€ CHECKLISTS.md            # æª¢æŸ¥æ¸…å–®
â”‚   â”‚   â””â”€â”€ DEPENDENCY_UPGRADE_PLAN.md  # ä¾è³´å‡ç´š
â”‚   â”œâ”€â”€ SETUP.md                     # å¿«é€Ÿé–‹å§‹
â”‚   â”œâ”€â”€ DEPLOYMENT.md                # Docker éƒ¨ç½²
â”‚   â”œâ”€â”€ ZEABUR_DEPLOYMENT.md         # Zeabur éƒ¨ç½²
â”‚   â”œâ”€â”€ SECURITY_BASELINE.md         # å®‰å…¨åŸºç·š
â”‚   â”œâ”€â”€ HISTORICAL_RATES_IMPLEMENTATION.md  # æ­·å²åŒ¯ç‡å¯¦ä½œ
â”‚   â”œâ”€â”€ QUICK_START_HISTORICAL_RATES.md     # æ­·å²åŒ¯ç‡å¿«é€Ÿé–‹å§‹
â”‚   â””â”€â”€ EXCHANGE_RATE_UPDATE_STRATEGIES.md  # åŒ¯ç‡æ›´æ–°ç­–ç•¥
â”‚
â”œâ”€â”€ scripts/                         # è‡ªå‹•åŒ–è…³æœ¬
â”‚   â”œâ”€â”€ fetch-taiwan-bank-rates.js  # æŠ“å–åŒ¯ç‡è³‡æ–™
â”‚   â”œâ”€â”€ monitor-deployment.sh        # ç›£æ§éƒ¨ç½²
â”‚   â””â”€â”€ setup-historical-rates.sh    # è¨­å®šæ­·å²åŒ¯ç‡
â”‚
â”œâ”€â”€ tests/                           # æ¸¬è©¦
â”‚   â””â”€â”€ e2e/                         # E2E æ¸¬è©¦
â”‚       â””â”€â”€ README.md                # E2E æ¸¬è©¦èªªæ˜
â”‚
â”œâ”€â”€ public/                          # å…¬é–‹è³‡æ–™
â”‚   â””â”€â”€ rates/                       # åŒ¯ç‡è³‡æ–™
â”‚       â””â”€â”€ latest.json              # æœ€æ–°åŒ¯ç‡
â”‚
â”œâ”€â”€ .gitignore                       # Git å¿½ç•¥è¦å‰‡
â”œâ”€â”€ .env.example                     # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”œâ”€â”€ Dockerfile                       # Docker å»ºç½®é…ç½®
â”œâ”€â”€ docker-compose.yml               # Docker Compose é…ç½®
â”œâ”€â”€ nginx.conf                       # Nginx é…ç½®
â”œâ”€â”€ package.json                     # Root package.json
â”œâ”€â”€ pnpm-lock.yaml                   # pnpm é–å®šæª”æ¡ˆ
â”œâ”€â”€ pnpm-workspace.yaml              # pnpm workspace é…ç½®
â”œâ”€â”€ tsconfig.base.json               # TypeScript åŸºç¤é…ç½®
â”œâ”€â”€ commitlint.config.cjs            # Commit è¨Šæ¯è¦ç¯„
â”‚
â”œâ”€â”€ README.md                        # å°ˆæ¡ˆèªªæ˜
â”œâ”€â”€ LICENSE                          # æˆæ¬Šæ¢æ¬¾
â”œâ”€â”€ CHANGELOG.md                     # è®Šæ›´æ—¥èªŒ
â”œâ”€â”€ CONTRIBUTING.md                  # è²¢ç»æŒ‡å—
â”œâ”€â”€ CODE_OF_CONDUCT.md               # è¡Œç‚ºæº–å‰‡
â”œâ”€â”€ SECURITY.md                      # å®‰å…¨æ”¿ç­–
â”œâ”€â”€ AGENTS.md                        # Agent æ“ä½œå®ˆå‰‡
â””â”€â”€ LINUS_GUIDE.md                   # Linus é–‹ç™¼æŒ‡å—
```

## ğŸ¯ æ¶æ§‹è¨­è¨ˆåŸå‰‡

### 1. Monorepo çµæ§‹

ä½¿ç”¨ pnpm workspaces ç®¡ç†å¤šå€‹æ‡‰ç”¨ç¨‹å¼å’Œå…±ç”¨ç¨‹å¼ç¢¼ï¼š

- **å„ªé»**ï¼š
  - çµ±ä¸€çš„ä¾è³´ç®¡ç†
  - å…±ç”¨ç¨‹å¼ç¢¼é‡ç”¨
  - åŸå­åŒ–çš„è·¨å°ˆæ¡ˆè®Šæ›´
  - çµ±ä¸€çš„å»ºç½®èˆ‡æ¸¬è©¦æµç¨‹

### 2. åŠŸèƒ½æ¨¡çµ„åŒ– (Feature-Based)

æŒ‰åŠŸèƒ½è€Œéé¡å‹çµ„ç¹”ç¨‹å¼ç¢¼ï¼š

```
features/
â””â”€â”€ ratewise/
    â”œâ”€â”€ components/    # åŠŸèƒ½å°ˆå±¬å…ƒä»¶
    â”œâ”€â”€ hooks/         # åŠŸèƒ½å°ˆå±¬ hooks
    â”œâ”€â”€ RateWise.tsx   # åŠŸèƒ½ä¸»å…ƒä»¶
    â”œâ”€â”€ types.ts       # åŠŸèƒ½é¡å‹
    â””â”€â”€ storage.ts     # åŠŸèƒ½è³‡æ–™
```

**å„ªé»**ï¼š

- é«˜å…§èšä½è€¦åˆ
- æ˜“æ–¼ç†è§£èˆ‡ç¶­è­·
- ä¾¿æ–¼åŠŸèƒ½æ‹†åˆ†æˆ–ç§»é™¤

### 3. åˆ†å±¤æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         UI Components           â”‚  â† å±•ç¤ºå±¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Custom Hooks (State)       â”‚  â† é‚è¼¯å±¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Services (API Calls)        â”‚  â† æœå‹™å±¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Utils (Pure Functions)       â”‚  â† å·¥å…·å±¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. KISS åŸå‰‡

éµå¾ª **Keep It Simple, Stupid** å“²å­¸ï¼š

- å‡½æ•¸çŸ­å°ç²¾æ‚ï¼ˆ<50 è¡Œï¼‰
- é¿å…æ·±å±¤å·¢ç‹€ï¼ˆ<3 å±¤ï¼‰
- æ¶ˆé™¤ç‰¹æ®Šæƒ…æ³
- å¯¦ç”¨ä¸»ç¾©å„ªå…ˆ

è©³è¦‹ `LINUS_GUIDE.md`

## ğŸ“š æ–‡æª”åˆ†é¡

### ä½¿ç”¨è€…æ–‡æª”

é¢å‘æœ€çµ‚ä½¿ç”¨è€…å’Œéƒ¨ç½²è€…ï¼š

- `README.md` - å°ˆæ¡ˆæ¦‚è¦½èˆ‡å¿«é€Ÿé–‹å§‹
- `docs/SETUP.md` - ç’°å¢ƒè¨­å®š
- `docs/DEPLOYMENT.md` - Docker éƒ¨ç½²
- `docs/ZEABUR_DEPLOYMENT.md` - Zeabur éƒ¨ç½²

### é–‹ç™¼è€…æ–‡æª”

é¢å‘è²¢ç»è€…å’Œé–‹ç™¼è€…ï¼š

- `CONTRIBUTING.md` - è²¢ç»æŒ‡å—
- `docs/dev/ARCHITECTURE_BASELINE.md` - æ¶æ§‹è¨­è¨ˆ
- `docs/dev/CITATIONS.md` - æŠ€è¡“å¼•ç”¨
- `docs/dev/CHECKLISTS.md` - æª¢æŸ¥æ¸…å–®

### Agent æ–‡æª”

é¢å‘è‡ªå‹•åŒ– Agent å’Œ AI åŠ©æ‰‹ï¼š

- `AGENTS.md` - Agent æ“ä½œå®ˆå‰‡
- `LINUS_GUIDE.md` - é–‹ç™¼å“²å­¸

### æ²»ç†æ–‡æª”

å°ˆæ¡ˆç®¡ç†èˆ‡è¦ç¯„ï¼š

- `CODE_OF_CONDUCT.md` - è¡Œç‚ºæº–å‰‡
- `SECURITY.md` - å®‰å…¨æ”¿ç­–
- `CHANGELOG.md` - è®Šæ›´æ—¥èªŒ
- `LICENSE` - æˆæ¬Šæ¢æ¬¾

## ğŸ”„ å·¥ä½œæµç¨‹

### é–‹ç™¼æµç¨‹

```mermaid
graph LR
    A[Fork å°ˆæ¡ˆ] --> B[Clone åˆ°æœ¬åœ°]
    B --> C[å»ºç«‹åŠŸèƒ½åˆ†æ”¯]
    C --> D[é–‹ç™¼èˆ‡æ¸¬è©¦]
    D --> E[Commit è®Šæ›´]
    E --> F[Push åˆ° Fork]
    F --> G[å»ºç«‹ PR]
    G --> H{CI æª¢æŸ¥}
    H -->|é€šé| I[Code Review]
    H -->|å¤±æ•—| D
    I --> J{å¯©æŸ¥çµæœ}
    J -->|æ ¸å‡†| K[åˆä½µåˆ° main]
    J -->|éœ€ä¿®æ”¹| D
```

### CI/CD æµç¨‹

```mermaid
graph TD
    A[Push/PR] --> B[CI Pipeline]
    B --> C[Lint & Format]
    B --> D[TypeScript Check]
    B --> E[Unit Tests]
    B --> F[Build]
    C --> G{æ‰€æœ‰æª¢æŸ¥}
    D --> G
    E --> G
    F --> G
    G -->|é€šé| H[åˆä½µåˆ° main]
    G -->|å¤±æ•—| I[é€šçŸ¥é–‹ç™¼è€…]
    H --> J[Docker Build]
    J --> K[éƒ¨ç½²åˆ° Zeabur]
```

## ğŸ§ª æ¸¬è©¦ç­–ç•¥

### æ¸¬è©¦é‡‘å­—å¡”

```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   E2E  â”‚  â† å°‘é‡ï¼ˆé—œéµæµç¨‹ï¼‰
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ æ•´åˆæ¸¬è©¦ â”‚  â† ä¸­ç­‰ï¼ˆå…ƒä»¶äº’å‹•ï¼‰
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ å–®å…ƒæ¸¬è©¦ â”‚  â† å¤§é‡ï¼ˆå‡½æ•¸èˆ‡å…ƒä»¶ï¼‰
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™

- **å–®å…ƒæ¸¬è©¦**: â‰¥ 80%
- **æ•´åˆæ¸¬è©¦**: ä¸»è¦åŠŸèƒ½ 100%
- **E2E æ¸¬è©¦**: é—œéµæµç¨‹ 100%

## ğŸ”’ å®‰å…¨å±¤ç´š

### å¤šå±¤é˜²ç¦¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CDN/Edge (Cloudflare)       â”‚  â† WAF, DDoS, Rate Limit
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Container (Docker)          â”‚  â† é root ä½¿ç”¨è€…, æœ€å°æ¬Šé™
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Application (React)         â”‚  â† Input é©—è­‰, XSS é˜²è­·
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Data (localStorage)         â”‚  â† åƒ…éæ•æ„Ÿè³‡æ–™
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ å»ºç½®èˆ‡éƒ¨ç½²

### Docker å¤šéšæ®µå»ºç½®

```dockerfile
# Stage 1: å»ºç½®
FROM node:24-alpine AS builder
â†’ å®‰è£ä¾è³´
â†’ å»ºç½®æ‡‰ç”¨

# Stage 2: ç”Ÿç”¢
FROM nginx:alpine
â†’ è¤‡è£½å»ºç½®ç”¢ç‰©
â†’ é…ç½® Nginx
â†’ ä½¿ç”¨é root ä½¿ç”¨è€…
```

### éƒ¨ç½²ç›®æ¨™

- **æœ¬åœ°é–‹ç™¼**: `pnpm dev`
- **Docker**: `docker-compose up`
- **Zeabur**: è‡ªå‹•éƒ¨ç½²ï¼ˆpush to mainï¼‰

## ğŸ› ï¸ å·¥å…·éˆ

### æ ¸å¿ƒå·¥å…·

- **å»ºç½®**: Vite 5
- **æ¡†æ¶**: React 19
- **èªè¨€**: TypeScript 5
- **æ¨£å¼**: Tailwind CSS 3
- **æ¸¬è©¦**: Vitest 2
- **Lint**: ESLint 8 + Prettier 3
- **åŒ…ç®¡ç†**: pnpm 9

### é–‹ç™¼å·¥å…·

- **Git Hooks**: Husky
- **Pre-commit**: lint-staged
- **Commit è¦ç¯„**: commitlint
- **CI/CD**: GitHub Actions

## ğŸ“Š å“è³ªæŒ‡æ¨™

### ç¨‹å¼ç¢¼å“è³ª

- âœ… TypeScript åš´æ ¼æ¨¡å¼
- âœ… ESLint é›¶éŒ¯èª¤
- âœ… Prettier æ ¼å¼åŒ–
- âœ… æ¸¬è©¦è¦†è“‹ç‡ â‰¥ 80%

### æ•ˆèƒ½æŒ‡æ¨™

- âœ… Build size < 500KB
- âœ… Lighthouse â‰¥ 90
- âœ… LCP â‰¤ 2.5s
- âœ… FID â‰¤ 100ms

### å®‰å…¨æŒ‡æ¨™

- âœ… pnpm audit ç„¡é«˜å±æ¼æ´
- âœ… ç„¡å¯†é‘°å¤–æ´©
- âœ… HTTPS éƒ¨ç½²
- âœ… å®‰å…¨æ¨™é ­é…ç½®

---

## ğŸ”— ç›¸é—œé€£çµ

- [å°ˆæ¡ˆèªªæ˜](../README.md)
- [è²¢ç»æŒ‡å—](../CONTRIBUTING.md)
- [æ¶æ§‹è¨­è¨ˆ](../docs/dev/ARCHITECTURE_BASELINE.md)
- [é–‹ç™¼å“²å­¸](../LINUS_GUIDE.md)

---

**æœ€å¾Œæ›´æ–°**: 2025-10-13
**ç‰ˆæœ¬**: 1.0.0
