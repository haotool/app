# NihonName UI/UX 排版規格文檔

> **版本**: 1.1.0  
> **建立時間**: 2025-12-04  
> **最後更新**: 2025-12-04  
> **作者**: UI/UX 設計師兼前端工程師  
> **技術棧**: React 19 + Tailwind CSS 3 + Vite 7  
> **狀態**: ✅ 已實作

---

## 一、整體觀察與問題盤點

### 1.1 已修復的 UI 問題

| 問題類型    | 描述                          | 狀態      |
| ----------- | ----------------------------- | --------- |
| 垂直置中    | 輸入頁面內容偏上，未垂直置中  | ✅ 已修復 |
| 間距不一致  | Header 與表單卡片之間間距過大 | ✅ 已修復 |
| Footer 位置 | Footer 與主內容間距過大       | ✅ 已修復 |
| 結果頁佈局  | 元素間距不緊湊，視覺分散      | ✅ 已修復 |
| RWD 斷點    | 手機版與桌面版間距比例不協調  | ✅ 已修復 |

### 1.2 設計目標 (已達成)

1. ✅ **輸入頁面**：內容垂直置中，表單卡片與 footer 緊密綁定
2. ✅ **結果頁面**：所有元素緊湊排列，整體垂直置中
3. ✅ **一致性**：統一間距系統，確保視覺節奏
4. ✅ **RWD**：Mobile-first，確保所有裝置體驗一致

---

## 二、頁面結構 ASCII 圖解

### 2.1 輸入頁面 (Input Step) - 目標佈局

```
┌─────────────────────────────────────────────────────────────┐
│                     100dvh 視窗高度                          │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                    Safe Area Top                       │  │
│  │                    env(safe-area-inset-top)            │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│                    ↑ flex-1 彈性空間 (自動分配)              │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                                                       │  │
│  │   ╔═══════════════════════════════════════════════╗   │  │
│  │   ║              🏯 TAIWAN 1940 🏯               ║   │  │
│  │   ║           皇民化改姓運動                      ║   │  │
│  │   ║           姓名変換所                          ║   │  │
│  │   ╚═══════════════════════════════════════════════╝   │  │
│  │                      ↓ mb-6                            │  │
│  │   ┌───────────────────────────────────────────────┐   │  │
│  │   │  ┌─────────────────────────────────────────┐  │   │  │
│  │   │  │ SURNAME (TRADITIONAL CHINESE)           │  │   │  │
│  │   │  │ ┌─────────────────────────────────────┐ │  │   │  │
│  │   │  │ │              陳                      │ │  │   │  │
│  │   │  │ └─────────────────────────────────────┘ │  │   │  │
│  │   │  │                ↓ space-y-8              │  │   │  │
│  │   │  │ GIVEN NAME                   Optional   │  │   │  │
│  │   │  │ ┌─────────────────────────────────────┐ │  │   │  │
│  │   │  │ │              隨機                    │ │  │   │  │
│  │   │  │ └─────────────────────────────────────┘ │  │   │  │
│  │   │  │                ↓ space-y-8              │  │   │  │
│  │   │  │ ┌─────────────────────────────────────┐ │  │   │  │
│  │   │  │ │        ⊗ 改名実行 ›                 │ │  │   │  │
│  │   │  │ └─────────────────────────────────────┘ │  │   │  │
│  │   │  └─────────────────────────────────────────┘  │   │  │
│  │   │                    p-8                        │   │  │
│  │   └───────────────────────────────────────────────┘   │  │
│  │                      ↓ mt-6                            │  │
│  │          本系統依據 1940 年代歷史文獻運算               │  │
│  │                                                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│                    ↓ flex-1 彈性空間 (自動分配)              │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │              好工具 · @azlife_1224                     │  │
│  │                    py-4                                │  │
│  └───────────────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                    Safe Area Bottom                    │  │
│  │                    env(safe-area-inset-bottom)         │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 結果頁面 (Result Step) - 目標佈局

```
┌─────────────────────────────────────────────────────────────┐
│                     100dvh 視窗高度                          │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                    Safe Area Top                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│                    ↑ 自動間距 (justify-center)              │
│                                                             │
│  ┌─────────────── max-w-lg mx-auto px-5 ─────────────────┐  │
│  │                                                       │  │
│  │   ╔═══════════════════════════════════════════════╗   │  │
│  │   ║              🏯 TAIWAN 1940 🏯               ║   │  │
│  │   ║           皇民化改姓運動                      ║   │  │
│  │   ║           姓名変換所                          ║   │  │
│  │   ╚═══════════════════════════════════════════════╝   │  │
│  │                      ↓ mb-4                            │  │
│  │   ╔═══════════════════════════════════════════════╗   │  │
│  │   ║  ┌─────────────────────────────────────────┐  ║   │  │
│  │   ║  │              🌸                          │  ║   │  │
│  │   ║  │         金子  美代子                     │  ║   │  │
│  │   ║  │              ↓ py-6                      │  ║   │  │
│  │   ║  └─────────────────────────────────────────┘  ║   │  │
│  │   ║  ┌─────────────────────────────────────────┐  ║   │  │
│  │   ║  │ ALIAS  Nakama Yukie                     │  ║   │  │
│  │   ║  │ 仲間由紀惠                        🎲    │  ║   │  │
│  │   ║  │              ↓ p-5                       │  ║   │  │
│  │   ║  └─────────────────────────────────────────┘  ║   │  │
│  │   ║  ┌─────────────────────────────────────────┐  ║   │  │
│  │   ║  │         令和七年・改名局                 │  ║   │  │
│  │   ║  │              ↓ mt-6                      │  ║   │  │
│  │   ║  └─────────────────────────────────────────┘  ║   │  │
│  │   ╚═══════════════════════════════════════════════╝   │  │
│  │                      ↓ mt-4                            │  │
│  │   ┌─────────────────┬─────────────────┐               │  │
│  │   │    族譜查證      │    截圖模式      │               │  │
│  │   └─────────────────┴─────────────────┘               │  │
│  │                      ↓ mb-4                            │  │
│  │   ┌─────────────────────────────────────┐             │  │
│  │   │  ↺ 重新測試              關於本站 📖 │             │  │
│  │   └─────────────────────────────────────┘             │  │
│  │                      ↓ mt-4                            │  │
│  │   ┌─────────────────────────────────────┐             │  │
│  │   │         好工具 · @azlife_1224        │             │  │
│  │   └─────────────────────────────────────┘             │  │
│  │                                                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│                    ↓ 自動間距 (justify-center)              │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                    Safe Area Bottom                    │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

---

## 三、間距系統 (Spacing System)

### 3.1 Tailwind 間距對照表

| 間距名稱 | Tailwind Class   | 像素值 | 使用場景       |
| -------- | ---------------- | ------ | -------------- |
| xs       | `gap-1`, `p-1`   | 4px    | 圖標與文字間距 |
| sm       | `gap-2`, `p-2`   | 8px    | 緊密元素間距   |
| md       | `gap-4`, `p-4`   | 16px   | 卡片內 padding |
| lg       | `gap-6`, `p-6`   | 24px   | 區塊間距       |
| xl       | `gap-8`, `p-8`   | 32px   | 主要區塊間距   |
| 2xl      | `gap-12`, `p-12` | 48px   | 頁面區塊間距   |

### 3.2 元件間距規範

```
┌──────────────────────────────────────────────────────────────┐
│                                                              │
│  Header (標題區)                                              │
│  ├── Taiwan 1940 標籤: py-1, mb-3                            │
│  ├── 副標題與主標題: mb-1                                     │
│  └── Header 與內容區: mb-4 (結果頁) / mb-6 (輸入頁)           │
│                                                              │
│  Input Card (輸入卡片)                                        │
│  ├── 卡片 padding: p-8                                       │
│  ├── 表單欄位間距: space-y-8                                  │
│  ├── Label 與 Input: mb-3                                    │
│  └── 卡片與說明文字: mt-6                                     │
│                                                              │
│  Result Card (結果卡片)                                       │
│  ├── 卡片 padding: p-5 md:p-8                                │
│  ├── 姓名區塊: py-6 md:py-10                                  │
│  ├── 諧音區塊: p-5, mt-4 md:mt-6                             │
│  └── 印章區塊: mt-6                                           │
│                                                              │
│  Footer Actions (底部操作區)                                  │
│  ├── 按鈕網格: gap-4, mb-4                                   │
│  ├── 連結列: justify-between                                 │
│  └── 與 Footer: mt-4                                         │
│                                                              │
│  Footer (頁尾)                                                │
│  ├── padding: py-4                                           │
│  └── Safe area: pb-[env(safe-area-inset-bottom,8px)]         │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

---

## 四、RWD 斷點策略

### 4.1 斷點定義

| 斷點 | 寬度     | 目標裝置                     |
| ---- | -------- | ---------------------------- |
| 預設 | < 640px  | 手機 (iPhone SE ~ iPhone 14) |
| `sm` | ≥ 640px  | 大螢幕手機 / 小平板          |
| `md` | ≥ 768px  | 平板                         |
| `lg` | ≥ 1024px | 小筆電                       |
| `xl` | ≥ 1280px | 桌面                         |

### 4.2 元件 RWD 調整

```css
/* 主容器 */
.main-container {
  max-width: 32rem; /* max-w-lg = 512px */
  padding-inline: 1.25rem; /* px-5 = 20px (手機) */
}
@media (min-width: 768px) {
  .main-container {
    padding-inline: 0; /* md:px-0 (平板以上) */
  }
}

/* 標題字級 */
.title {
  font-size: 2.25rem; /* text-4xl = 36px (手機) */
}
@media (min-width: 768px) {
  .title {
    font-size: 3rem; /* md:text-5xl = 48px (平板以上) */
  }
}

/* 卡片 padding */
.card {
  padding: 1.25rem; /* p-5 = 20px (手機) */
}
@media (min-width: 768px) {
  .card {
    padding: 2rem; /* md:p-8 = 32px (平板以上) */
  }
}
```

---

## 五、垂直置中實作方案

### 5.1 輸入頁面 - 垂直置中

**問題**：當前輸入頁面使用 `mt-[8vh]` 固定頂部間距，導致內容偏上。

**解決方案**：使用 `justify-center` 配合 `flex-1` 實現真正的垂直置中。

```tsx
// 外層容器
<div className="min-h-[100dvh] h-[100dvh] w-full flex flex-col">
  {/* 主內容區 - 垂直置中 */}
  <div className="flex-1 flex flex-col items-center justify-center px-5 md:px-0">
    {/* 內容包裝器 - 限制最大寬度 */}
    <div className="w-full max-w-lg">
      <header>...</header>
      <main>...</main>
    </div>
  </div>

  {/* Footer - 固定在底部 */}
  <footer className="shrink-0 py-4">...</footer>
</div>
```

### 5.2 結果頁面 - 緊湊綁定

**問題**：結果頁面各元素間距過大，視覺分散。

**解決方案**：將所有元素包在一個容器內，使用 `justify-center` 垂直置中。

```tsx
// 結果頁面容器
<div className="flex-1 flex flex-col items-center justify-center px-5 md:px-0 py-4">
  {/* 所有內容綁定在一起 */}
  <div className="w-full max-w-lg space-y-4">
    <header>...</header>
    <ResultCard>...</ResultCard>
    <ActionButtons>...</ActionButtons>
    <FooterLinks>...</FooterLinks>
    <Footer>...</Footer>
  </div>
</div>
```

---

## 六、具體修改建議

### 6.1 Main Container 修改

**檔案**: `src/pages/Home.tsx`  
**位置**: Line 767-772

```tsx
// 修改前
<div
  className={`relative z-10 w-full flex-1 flex flex-col items-center max-w-lg mx-auto transition-all duration-500 px-5 md:px-0 ${
    state.step === 'result'
      ? 'justify-center py-4'
      : ''
  }`}
>

// 修改後
<div
  className={`relative z-10 w-full flex-1 flex flex-col items-center justify-center max-w-lg mx-auto transition-all duration-500 px-5 md:px-0 py-4`}
>
```

### 6.2 Header 修改

**檔案**: `src/pages/Home.tsx`  
**位置**: Line 775-780

```tsx
// 修改前
<header
  className={`w-full text-center transition-all duration-700 ease-in-out z-20 shrink-0 ${
    state.step === 'result'
      ? (showUI ? 'mb-4' : 'mb-6')
      : 'mt-[8vh] md:mt-[10vh]'
  }`}
>

// 修改後 - 移除固定 margin，改用 flex 置中
<header
  className={`w-full text-center transition-all duration-700 ease-in-out z-20 shrink-0 ${
    state.step === 'result'
      ? (showUI ? 'mb-4' : 'mb-6')
      : 'mb-6' // 統一使用固定間距
  }`}
>
```

### 6.3 Footer 修改

**檔案**: `src/pages/Home.tsx`  
**位置**: Line 1138-1140

```tsx
// 修改前
<footer className="w-full shrink-0 py-4 text-center mt-auto pb-[env(safe-area-inset-bottom,8px)]">

// 修改後 - 移入主內容區，與其他元素綁定
<footer className="w-full py-3 text-center">
```

---

## 七、測試檢查清單

### 7.1 視覺測試

- [ ] iPhone SE (375x667) - 內容垂直置中，無溢出
- [ ] iPhone 14 (390x844) - 內容垂直置中，無溢出
- [ ] iPhone 14 Pro Max (430x932) - 內容垂直置中，無溢出
- [ ] iPad (768x1024) - 內容置中，適當間距
- [ ] Desktop (1440x900) - 內容置中，適當間距

### 7.2 功能測試

- [ ] 輸入姓氏後按 Enter 可觸發生成
- [ ] 結果頁面骰子按鈕可點擊
- [ ] 截圖模式可正常切換
- [ ] 族譜查證 Modal 可正常開關
- [ ] About 頁面可正常滾動

### 7.3 Lighthouse 指標

- [ ] Performance ≥ 90
- [ ] Accessibility ≥ 90
- [ ] Best Practices ≥ 90
- [ ] SEO ≥ 90

---

## 八、後續優化建議

1. **元件抽象化**：將 Header、ResultCard、ActionButtons 抽取為獨立元件
2. **動畫優化**：使用 CSS `will-change` 優化過渡動畫效能
3. **字體載入**：使用 `font-display: swap` 優化日文字體載入
4. **圖片優化**：將背景圖案轉為 SVG 或 CSS 實現

---

**文檔結束**
