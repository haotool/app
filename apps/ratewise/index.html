<!doctype html>
<!-- [Build: 2025-12-24 Lighthouse Optimization] -->
<html lang="zh-Hant">
  <head>
    <!-- [Lighthouse Fix 2025-12-24] Charset must be first in head -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

    <!--
      [SEO Fix 2025-11-25 Phase 2A - BDD Approach]
      **恢復**靜態 SEO meta tags - Phase 1 的決策錯誤已修正

      Phase 1 錯誤假設：React Helmet 可以完全取代靜態 meta tags
      Phase 2A 正確理解：
      1. Google 爬蟲兩階段索引：
         - 階段 1 (Crawl Queue): 立即讀取靜態 HTML ✅
         - 階段 2 (Render Queue): 延遲數小時至數天執行 JavaScript ⚠️
      2. AI 搜尋引擎（GPTBot, ClaudeBot, PerplexityBot）：
         - 完全不執行 JavaScript ❌
         - 只能讀取靜態 HTML ✅
      3. 社交媒體爬蟲（Facebook, Twitter）：
         - 讀取靜態 HTML 優先 ✅

      正確策略：靜態 + 動態分離
      - index.html (靜態): 首頁的 meta tags (給 Google 第一階段 + AI 爬蟲)
      - SEOHelmet (動態): 只用於子頁面 (FAQ, About, 404)

      依據：
      - [SEO 審查報告 2025-11-25] 68% → 90% 符合度提升計劃
      - [Google Search Central: JavaScript SEO Basics]
      - [Stack Overflow: React Helmet meta tags 爬蟲問題]
      - [Evergreen Googlebot Two-Stage Indexing]

      參考：fix/seo-phase2a-bdd-approach
    -->

    <meta name="theme-color" content="#8B5CF6" />

    <!-- [fix:2025-11-26] 停用 Cloudflare Rocket Loader -->
    <!-- 原因：與嚴格的 CSP 和 Trusted Types 衝突 -->
    <!-- 參考：https://developers.cloudflare.com/speed/optimization/content/rocket-loader/ -->
    <meta name="cloudflare-rocket-loader" content="off" />

    <!-- [fix:2025-11-05] 版本資訊 meta 標籤（用於 runtime 版本檢查） -->
    <meta name="app-version" content="__APP_VERSION__" />
    <meta name="build-time" content="__BUILD_TIME__" />

    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="NBCorB6Jq_872WFLMgbSieWf_Wvt0EGse1QWXnM4AOo" />

    <!-- [SEO Fix 2025-11-25 Phase 2A] 基礎 SEO Meta Tags -->
    <meta
      name="description"
      content="RateWise 提供即時匯率換算服務，參考臺灣銀行牌告匯率，支援 TWD、USD、JPY、EUR、GBP 等 30+ 種貨幣。快速、準確、離線可用的 PWA 匯率工具。"
    />
    <meta
      name="keywords"
      content="匯率好工具,RateWise,匯率工具,匯率換算,即時匯率,台幣匯率,TWD匯率,USD匯率,外幣兌換,匯率查詢,臺灣銀行匯率,台灣匯率,美金匯率,日幣匯率,歐元匯率,線上匯率,匯率計算機,匯率轉換器,貨幣換算,台幣換算,exchange rate,currency converter"
    />
    <meta name="author" content="haotool" />
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <!-- Canonical 和 hreflang 由 SEOHelmet 動態生成，避免與子頁面衝突 -->
    <!-- [fix:2026-01-03] 移除過時的 http-equiv="content-language"
         W3C Validator: "Using the meta element to specify the document-wide default language is obsolete"
         正確做法：使用 <html lang="zh-TW"> 指定語言（已設定於 <html> 標籤）-->

    <!-- [SEO Fix 2025-11-25 Phase 2A] Open Graph Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://app.haotool.org/ratewise/" />
    <meta property="og:title" content="RateWise - 匯率好工具 | 即時匯率換算" />
    <meta
      property="og:description"
      content="RateWise 提供即時匯率換算服務，參考臺灣銀行牌告匯率，支援 TWD、USD、JPY、EUR、GBP 等 30+ 種貨幣。快速、準確、離線可用的 PWA 匯率工具。"
    />
    <meta property="og:image" content="https://app.haotool.org/ratewise/og-image.png?v=20251208" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="RateWise 匯率轉換器應用截圖" />
    <meta property="og:locale" content="zh_TW" />
    <meta property="og:site_name" content="RateWise" />

    <!-- [SEO Fix 2025-11-25 Phase 2A] Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="RateWise - 匯率好工具 | 即時匯率換算" />
    <meta
      name="twitter:description"
      content="快速、準確的匯率換算工具，支援 30+ 種貨幣，參考臺灣銀行牌告匯率。"
    />
    <meta
      name="twitter:image"
      content="https://app.haotool.org/ratewise/twitter-image.png?v=20251208"
    />
    <meta name="twitter:image:alt" content="RateWise 匯率轉換器" />

    <!-- PWA Configuration -->
    <link rel="icon" href="/ratewise/favicon.ico?v=20251208" sizes="48x48" />
    <link rel="icon" href="/ratewise/favicon.svg?v=20251208" sizes="any" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/ratewise/apple-touch-icon.png?v=20251208" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="RateWise" />

    <!-- [Lighthouse-optimization:2025-10-27] Resource hints -->
    <!-- 參考: https://web.dev/articles/optimize-lcp -->

    <!-- Preconnect to external domains for faster resource loading -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com" />

    <!-- [Optimization 2025-11-26] Preconnect to critical origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin />

    <!-- [fix:2025-11-14] 移除 Logo preload - Logo 不是 LCP 元素 -->
    <!-- 根據 Lighthouse 分析，LCP 元素是匯率顯示文字區域，不是 Logo 圖片 -->
    <!-- Preload 非 LCP 資源會浪費頻寬並導致 Chrome DevTools 警告 -->
    <!-- 參考: tmp/lighthouse/PERFORMANCE_BOTTLENECK_ANALYSIS_20251114.md:39-50 -->

    <!-- Modulepreload for critical scripts (Vite generates these automatically) -->
    <!-- Vite will inject modulepreload links for vendor chunks during build -->

    <!-- [Lighthouse-optimization:2025-10-28] Skeleton Screen Critical CSS -->
    <!-- 參考: https://blog.logrocket.com/ux-design/skeleton-loading-screen-design/ -->
    <style>
      /* Critical CSS - 內聯確保立即渲染 */
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        background: #f8fafc;
        font-family:
          'Noto Sans TC',
          system-ui,
          -apple-system,
          sans-serif;
      }
      /* Skeleton Screen - 立即顯示內容結構，提升 perceived performance */
      .skeleton-container {
        max-width: 56rem;
        margin: 0 auto;
        padding: 1rem;
      }
      .skeleton-header {
        height: 2rem;
        width: 12rem;
        background: #e2e8f0;
        border-radius: 0.5rem;
        margin-bottom: 0.5rem;
      }
      .skeleton-subtitle {
        height: 1rem;
        width: 8rem;
        background: #e2e8f0;
        border-radius: 0.25rem;
        margin-bottom: 1.5rem;
      }
      .skeleton-card {
        background: white;
        border-radius: 1rem;
        padding: 1.5rem;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        margin-bottom: 1.5rem;
      }
      .skeleton-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      .skeleton-input {
        height: 3rem;
        background: #e2e8f0;
        border-radius: 0.5rem;
      }
      .skeleton-result {
        height: 4rem;
        background: #ede9fe;
        border-radius: 0.75rem;
      }
      /* 平滑的脈動動畫 */
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
      .skeleton-header,
      .skeleton-subtitle,
      .skeleton-input,
      .skeleton-result {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }
      @media (max-width: 768px) {
        .skeleton-row {
          grid-template-columns: 1fr;
        }
      }
    </style>

    <!-- [Lighthouse-optimization:2025-10-28] 非阻塞 CSS 載入 -->
    <!-- 參考: https://web.dev/articles/defer-non-critical-css -->
    <!-- Vite 會在 build 時注入 CSS link，我們使用 media="print" 技巧非阻塞載入 -->

    <!-- [Lighthouse-optimization:2025-10-27] 延遲載入 noscript CSS -->
    <noscript>
      <link rel="stylesheet" href="./loading.css" />
    </noscript>

    <!-- [SEO Fix 2025-11-25 Phase 2B] JSON-LD Structured Data for AI Search Optimization -->
    <!-- WebApplication Schema - Enhanced with complete fields -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "RateWise",
        "alternateName": "匯率好工具",
        "description": "RateWise 提供即時匯率換算服務，參考臺灣銀行牌告匯率，支援 TWD、USD、JPY、EUR、GBP 等 30+ 種貨幣。快速、準確、離線可用的 PWA 匯率工具。",
        "url": "https://app.haotool.org/ratewise/",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": [
          "即時匯率查詢",
          "單幣別換算",
          "多幣別同時換算",
          "歷史匯率趨勢",
          "離線使用",
          "PWA 支援",
          "台灣銀行牌告匯率",
          "30+ 種貨幣支援"
        ],
        "screenshot": "https://app.haotool.org/ratewise/screenshots/desktop-converter.png"
      }
    </script>

    <!-- Organization Schema - Enhanced with optimized logo -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "RateWise",
        "url": "https://app.haotool.org/ratewise/",
        "logo": "https://app.haotool.org/ratewise/optimized/logo-512w.png",
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "Customer Support",
          "email": "haotool.org@gmail.com"
        },
        "sameAs": ["https://www.threads.net/@azlife_1224", "https://github.com/haotool/app"]
      }
    </script>

    <!-- WebSite Schema - Added for search functionality -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "RateWise",
        "url": "https://app.haotool.org/ratewise/",
        "inLanguage": "zh-TW",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://app.haotool.org/ratewise/?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>

    <!-- HowTo Schema - Usage instructions moved from RateWise.tsx -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "如何使用 RateWise 進行匯率換算",
        "description": "三步驟輕鬆完成即時匯率換算，支援 30+ 種貨幣快速轉換",
        "url": "https://app.haotool.org/ratewise/",
        "step": [
          {
            "@type": "HowToStep",
            "position": 1,
            "name": "選擇貨幣",
            "text": "從下拉選單中選擇您要換算的來源貨幣和目標貨幣。RateWise 支援超過 30 種主要貨幣，包括 TWD、USD、JPY、EUR、GBP 等。"
          },
          {
            "@type": "HowToStep",
            "position": 2,
            "name": "輸入金額",
            "text": "在輸入框中輸入您想要換算的金額。系統會即時計算並顯示換算結果，數據來源為臺灣銀行牌告匯率。"
          },
          {
            "@type": "HowToStep",
            "position": 3,
            "name": "查看結果",
            "text": "換算結果會立即顯示在畫面上。您還可以查看歷史匯率趨勢圖，了解過去一段時間的匯率變化走勢。"
          }
        ]
      }
    </script>
    <!-- FAQ Snippet for Homepage (summary) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "url": "https://app.haotool.org/ratewise/",
        "inLanguage": "zh-TW",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "匯率來源與更新頻率？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "匯率 100% 參考臺灣銀行牌告，包含現金/即期買入賣出價，每 5 分鐘自動同步一次。"
            }
          },
          {
            "@type": "Question",
            "name": "支援哪些貨幣？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "支援 30+ 種主要貨幣（TWD、USD、JPY、EUR、GBP、HKD、CNY、KRW、AUD、CAD、SGD 等），可收藏常用貨幣。"
            }
          },
          {
            "@type": "Question",
            "name": "可以離線使用嗎？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "可以。PWA 首次開啟會快取資源與最近匯率，離線時仍可用上次更新的數據進行換算。"
            }
          },
          {
            "@type": "Question",
            "name": "如何查看多幣別與歷史趨勢？",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "切換「多幣別」模式可同時查看所有支援貨幣；單幣別卡片可展開 7~30 天歷史趨勢線圖，輔助判斷換匯時機。"
            }
          }
        ]
      }
    </script>
    <!-- Article Snippet for Homepage -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "RateWise 2025 預渲染與 PWA 強化",
        "description": "RateWise 採用 vite-react-ssg 預渲染與 PWA 快取，提供離線匯率、iOS 風格計算機體驗及多幣別快速換算。",
        "author": {
          "@type": "Person",
          "name": "haotool",
          "url": "https://haotool.org"
        },
        "url": "https://app.haotool.org/ratewise/",
        "inLanguage": "zh-TW",
        "image": "https://app.haotool.org/ratewise/og-image.png?v=20251208",
        "datePublished": "2025-11-26T00:00:00+08:00",
        "dateModified": "2026-01-05T00:00:00+08:00"
      }
    </script>

    <!-- [SEO 2025] SpeakableSpecification for Voice Search Optimization -->
    <!-- 參考: https://developers.google.com/search/docs/appearance/structured-data/speakable -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "RateWise - 匯率好工具 | 即時匯率換算",
        "url": "https://app.haotool.org/ratewise/",
        "speakable": {
          "@type": "SpeakableSpecification",
          "cssSelector": [".noscript-title", ".noscript-description", ".noscript-list"]
        },
        "mainEntity": {
          "@type": "SoftwareApplication",
          "name": "RateWise",
          "applicationCategory": "FinanceApplication",
          "operatingSystem": "Any"
        }
      }
    </script>

    <title>RateWise - 匯率好工具 | 即時匯率換算</title>
  </head>
  <body class="bg-slate-50">
    <noscript>
      <div class="noscript-container">
        <h1 class="noscript-title">RateWise 匯率好工具 - 即時匯率轉換器</h1>
        <p class="noscript-description">
          RateWise 提供即時匯率換算服務,參考臺灣銀行牌告匯率，支援 TWD、USD、JPY、EUR、GBP 等 30+
          種貨幣。 快速、準確、離線可用的 PWA 匯率工具。
        </p>
        <h2 class="noscript-subtitle">主要功能</h2>
        <ul class="noscript-list">
          <li>即時匯率查詢 - 參考臺灣銀行牌告匯率</li>
          <li>單幣別換算 - 快速換算兩種貨幣</li>
          <li>多幣別同時換算 - 一次比較多種貨幣</li>
          <li>歷史匯率趨勢 - 查看過去匯率變化</li>
          <li>離線使用 - PWA 支援離線存取</li>
          <li>支援 30+ 種主要貨幣</li>
        </ul>
        <p class="noscript-footer">
          ⚠️ 本服務需要瀏覽器啟用 JavaScript 才能顯示即時匯率換算結果。若無法啟用，請改用
          <a
            href="https://rate.bot.com.tw/xrt?Lang=zh-TW"
            rel="noopener noreferrer"
            class="noscript-link"
          >
            臺灣銀行牌告匯率
          </a>
          查詢最新資料。
        </p>
      </div>
    </noscript>
    <!-- [Lighthouse-optimization:2025-10-28] Skeleton Screen for instant content -->
    <!-- 靜態骨架屏：立即顯示內容結構，提升 FCP/LCP 並改善 perceived performance -->
    <!-- React 掛載時會替換整個 #root 內容 -->
    <div id="root">
      <div class="skeleton-container" role="status" aria-live="polite">
        <div class="skeleton-header"></div>
        <div class="skeleton-subtitle"></div>
        <div class="skeleton-card">
          <div class="skeleton-row">
            <div class="skeleton-input"></div>
            <div class="skeleton-input"></div>
          </div>
          <div class="skeleton-input" style="width: 100%; margin-bottom: 1rem"></div>
          <div class="skeleton-result"></div>
        </div>
        <div class="skeleton-card">
          <div class="skeleton-input" style="height: 12rem"></div>
        </div>
        <span class="sr-only">載入匯率資料中...</span>
      </div>
    </div>
    <script type="module" data-cfasync="false" src="./src/main.tsx"></script>
  </body>
</html>
